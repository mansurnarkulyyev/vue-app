"use strict";(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[424],{307:function(e,t,i){i.r(t),i.d(t,{default:function(){return re}});var a=i(252);const r={class:"product-page"},n={key:0,class:"product-page__content"},s={class:"product-page__additional-info"};function o(e,t,i,o,c,u){const d=(0,a.up)("ProductsMainInfo"),l=(0,a.up)("ProductReviews"),p=(0,a.up)("Container");return(0,a.wg)(),(0,a.iD)("main",r,[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[c.product?((0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(d,{product:c.product},null,8,["product"]),(0,a._)("div",s,[(0,a.Wm)(l,{reviews:u.reviewsList},null,8,["reviews"])])])):(0,a.kq)("",!0)])),_:1})])}var c=i(734),u=i(577);const d={class:"product-main-info"},l={class:"product-main-info__heading"},p={class:"product-main-info__title"},m=["src"],v={class:"product-main-info__description"},w={class:"product-main-info__btn"};function g(e,t,i,r,n,s){const o=(0,a.up)("Rating"),c=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("article",d,[(0,a._)("div",l,[(0,a._)("h1",p,(0,u.zw)(i.product.title),1),(0,a.Wm)(o,{rating:i.product.rating.rate},null,8,["rating"])]),(0,a._)("img",{src:i.product.image,alt:"",class:"product-main-info__photo"},null,8,m),(0,a._)("p",v,(0,u.zw)(i.product.description),1),(0,a._)("div",w,[(0,a.Wm)(c,{onClick:e.handleProductsBooking,loading:n.isLoading},{default:(0,a.w5)((()=>[(0,a.Uk)(" Заказать ")])),_:1},8,["onClick","loading"])])])}var _=i(967),h=i(667),f={name:"P roductsMainInfo",components:{Rating:_.Z,Button:h.Z},props:{product:{type:Object,required:!0}},data(){return{isLoading:!1}}},R=i(744);const L=(0,R.Z)(f,[["render",g],["__scopeId","data-v-04c508a6"]]);var C=L;const q=e=>((0,a.dD)("data-v-153c3f8c"),e=e(),(0,a.Cn)(),e),k={class:"reviews"},b={class:"reviews__heading"},y=q((()=>(0,a._)("h2",{class:"reviews__title"},"Суммарный рейтинг",-1))),Z={class:"reviews__rating"};function D(e,t,i,r,n,s){const o=(0,a.up)("Rating"),c=(0,a.up)("ReviewsItem");return(0,a.wg)(),(0,a.iD)("section",k,[(0,a._)("div",b,[y,(0,a._)("div",Z,[(0,a._)("span",null,(0,u.zw)(s.amountOfReviews)+" отзыв(ов)",1),(0,a.Wm)(o,{rating:s.totalRating},null,8,["rating"])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.currentReviews,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e.author,review:e},null,8,["review"])))),128)),(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>s.toggleReviews&&s.toggleReviews(...e)),class:"reviews__show-more"},(0,u.zw)(s.buttonText),1)])}const I={class:"reviews-item"},A={class:"reviews-item__content"};function P(e,t,i,r,n,s){const o=(0,a.up)("ReviewsHeading");return(0,a.wg)(),(0,a.iD)("section",I,[(0,a.Wm)(o,{rating:i.review.rating,author:i.review.author},null,8,["rating","author"]),(0,a._)("p",A,(0,u.zw)(i.review.content),1)])}const W={class:"reviews-heading"},x={class:"reviews-heading__content"},z={class:"reviews-heading__author"};function M(e,t,i,r,n,s){const o=(0,a.up)("Avatar"),c=(0,a.up)("Rating");return(0,a.wg)(),(0,a.iD)("div",W,[(0,a.Wm)(o,{class:"reviews-heading__avatar"}),(0,a._)("div",x,[(0,a._)("span",z,(0,u.zw)(i.author),1),(0,a.Wm)(c,{rating:i.rating},null,8,["rating"])])])}const H={width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O=(0,a._)("circle",{cx:"17",cy:"17",r:"17",fill:"white"},null,-1),B=(0,a._)("circle",{cx:"17",cy:"17",r:"16",fill:"white",stroke:"#FF662D","stroke-width":"2"},null,-1),F=(0,a._)("path",{fill:"#FF662D","fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.8053 28.8444L4.83307 28.8028C7.04004 25.4919 10.7338 23.5156 14.712 23.5156H19.2878C23.2661 23.5156 26.9599 25.4919 29.1669 28.8028L29.1946 28.8445C32.1687 25.783 34 21.6054 34 17C34 7.61115 26.3889 0 17 0C7.61115 0 0 7.61115 0 17C0 21.6053 1.83124 25.783 4.8053 28.8444ZM16.9999 7C12.9288 7 9.61713 10.3117 9.61713 14.3828C9.61713 18.4539 12.9288 21.7656 16.9999 21.7656C21.071 21.7656 24.3828 18.4539 24.3828 14.3828C24.3828 10.3117 21.071 7 16.9999 7Z"},null,-1),j=[O,B,F];function J(e,t,i,r,n,s){return(0,a.wg)(),(0,a.iD)("svg",H,j)}var N={name:"ReviewsAvatar"};const S=(0,R.Z)(N,[["render",J]]);var T=S,K={name:"ReviewsHeading",components:{Rating:_.Z,Avatar:T},props:{author:{type:String,required:!0},rating:{type:Number,default:0}}};const U=(0,R.Z)(K,[["render",M],["__scopeId","data-v-3c1cd2e1"]]);var Y=U,$={name:"ReviewsItem",components:{ReviewsHeading:Y},props:{review:{type:Object,required:!0}}};const E=(0,R.Z)($,[["render",P],["__scopeId","data-v-0c982d3f"]]);var G=E,Q={name:"ProductReviews",components:{ReviewsItem:G,Rating:_.Z},props:{reviews:{type:Array,required:!0}},data(){return{reviewsLimit:2}},computed:{totalRating(){const e=this.reviews.reduce(((e,t)=>e+t.rating),0);return e/this.reviews.length},amountOfReviews(){return this.reviews.length},currentReviews(){return this.reviews.slice(0,this.reviewsLimit)},buttonText(){return this.reviewsLimit===this.reviews.length?"Свернуть":"Читать еще..."}},methods:{toggleReviews(){this.reviewsLimit!==this.reviews.length?this.reviewsLimit=this.reviews.length:this.reviewsLimit=2}}};const V=(0,R.Z)(Q,[["render",D],["__scopeId","data-v-153c3f8c"]]);var X=V,ee=JSON.parse('[{"author":"Alex","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":3.5},{"author":"Ron","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":4.5},{"author":"Marry","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":4.8},{"author":"John","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":2.8}]'),te=i(346),ie={name:"ProductPage",components:{Container:c.Z,ProductsMainInfo:C,ProductReviews:X},data(){return{product:null}},computed:{reviewsList(){return ee}},async created(){try{const{id:e}=this.$route.params,{data:t}=await(0,te.r)(e);console.log(t),this.product=t}catch(e){console.error(e)}}};const ae=(0,R.Z)(ie,[["render",o],["__scopeId","data-v-7a9e20f2"]]);var re=ae}}]);
//# sourceMappingURL=424.28d07519.js.map